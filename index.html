<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/style.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <title>Phoenix Registration</title>
</head>
<body>
  <div class="bg-[#f7fbef] h-screen">
    <div class="flex flex-row justify-between px-4 md:px-7 lg:px-[180px] xl-px-12 sm:px-6 py-3 bg-red-500 shadow-md max-w-[7xl]">
        <div class="flex flex-row items-center text-lg sm:text-2xl font-extrabold">
            <div class="text-black">
                PHOENIX
            </div>
            <div class="text-lime-200">
                NEWS
            </div>
        </div>
        <div class="flex flex-row sm:gap-8 text-lime-50">
          <div class="hidden pr-3 text-base gap-6 md:pr-32 font-bold md:flex flex-row md:gap-9 items-center">
            <span class="text-xs md:text-base font-medium flex flex-row gap-5 items-center">Already have an account? <a href="login.html" class="md:text-xl font-bold hover:text-2xl hover:ease-in-out hover:delay-300">Sign in</a></span>
            <a href="" class="md:text-xl focus:underline hover:text-2xl hover:ease-in-out hover:delay-300">Help Center</a>
          </div>
          <div class="lg:hidden pr-3 text-base gap-4 font-bold flex flex-row items-center">
            <a href="login.html" class="hover:text-2xl hover:ease-in-out hover:delay-300">Sign in</a>
            <a href="" class="focus:underline hover:text-2xl hover:ease-in-out hover:delay-300">Help Center</a>
          </div>
        </div>
    </div>
  
    <div class="flex flex-col border-red-500 border-2 justify-center shadow-lg mt-9 md:mt-7 mx-[30px] md:mx-auto max-w-4xl w-auto h-4/5 px-1 py-1 md:px-6 md:py-2 bg-[#f7fbef] rounded-lg">
        <div class="flex justify-center">
            <div class="p-2 m-2 h-14 w-72 md:p-4 bg-gradient-to-r from-lime-50 via-[#ffffff] to-lime-50 shadow-md text-center md:h-20 md:w-[550px]">
                <h2 class="text-xl sm:text-2xl md:text-4xl mt-2 sm:mt-1 font-bold text-black">Phoenix Registration</h2>
            </div>
        </div>
        <p id="textCenter" class="text-[#f00a31] mx-4 md:mx-0 text-center pt-2"></p>
        <form class="flex flex-col md:w-full w-auto max-w-md mx-4 md:mx-0 md:ml-40 pt-3">
          <label id="fullname1">Fullname</label> 
          <input type="text" id="fullname" class="p-2 mb-2 text-base border border-red-400 h-10 hover:border-2  hover:ease-in-out hover:delay-200 focus:outline-none focus:border-red-500">
          <label id="email-address1">Email address</label> 
          <input type="email" id="email-address" class="p-2 mb-2 text-base border border-red-400 h-10 hover:border-2  hover:ease-in-out hover:delay-200 focus:outline-none focus:border-red-500">
          <label id="password1" class="flex justify-between">Password <span id="showPass">üëÅÔ∏è</span></label>
          <input type="password" name="password" id="password" class="p-2 mb-2 text-base border border-red-400 h-10 hover:border-2 hover:ease-in-out hover:delay-200 focus:outline-none focus:border-red-500">
          <label id="team_name">Team</label> 
          <input type="text" id="team" class="p-2 mb-2 text-base border border-red-400 h-10 hover:border-2  hover:ease-in-out hover:delay-200 focus:outline-none focus:border-red-500"><br>
          <div class="flex flex-row gap-3">
            <input type="submit" value="Submit" class="py-2 px-2 w-1/2 mb-3 rounded-[7px] shadow-lg bg-gradient-to-r from-red-200 via-lime-50 to-red-200 border border-[#ffe8ec] hover:font-medium">
            <input type="reset" id="clear" value="Clear" class="py-2 px-2 w-1/2 mb-3 rounded-[7px] shadow-lg bg-gradient-to-r from-red-200 via-lime-50 to-red-200 border border-[#ffe8ec] hover:font-medium">
          </div>
      </form>
        <div id="details" class="mt-4 mx-10 md:mx-auto w-[300px] md:ml-40 text-sm md:text-base text-black bg-lime-50 p-4 rounded shadow-md border border-red-500 hidden"></div>
    </div>
  </div>
  <script>
    let form = document.querySelector('form')
    let submit = document.querySelector('input[type=submit]')
    submit.addEventListener('click', (e) => {
      e.preventDefault()
      let spans = form.querySelectorAll('span')
      if (spans.length > 0){
        spans.forEach(span => { 
        span.remove()
        })
      };
      let isValid = true
      let name = document.getElementById("fullname").value
      let email = form.querySelector("input[type='email']").value     
      let password = form.querySelector("input[type='password']").value
      let team_name = document.getElementById("team").value

      if (!name){
        isValid = false
        let span = document.createElement("span")
        span.innerText = ' Fullname can not be empty'
        span.style.color = '#f00a31'
        document.getElementById("fullname1").appendChild(span)
      }
      if (!email){
        isValid = false
        let span = document.createElement("span")
        span.innerText = ' Email can not be empty'
        span.style.color = '#f00a31'
        document.getElementById("email-address1").appendChild(span)
      } else {
        let validEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)
        if (!validEmail){
          isValid =false
          let span = document.createElement("span")
          span.innerText = ' Email is invalid'
          span.style.color = '#f00a31'
          document.getElementById("email-address1").appendChild(span)
          }
      }
      if (!password){
        isValid = false
        let span = document.createElement("span")
        span.innerText = 'Password can not be empty'
        span.style.color = '#f00a31'
        document.getElementById("password1").appendChild(span)
      } else {
      if (password.length < 8){
        isValid = false
        let span = document.createElement("span")
        span.innerText = ' Password must be at least 8 characters'
        span.style.color = '#f00a31'
        document.getElementById("password1").appendChild(span)
      }
        let hasNum = /[0-9]/.test(password)
        let hasCap = /[A-Z]/.test(password)
        let hasSmall = /[a-z]/.test(password)
        let symbol = /[!@#$%^&*(),.<>?":|{}"]/.test(password)
        if (!hasNum || !hasCap || !hasSmall || !symbol ){
          isValid = false
          let span = document.createElement("span")
          span.innerText = 'Password must contain characters, number, capital & small letter'
          span.style.color = '#f00a31'
          document.getElementById("password1").appendChild(span)
        }
      }
      if (!team_name){
        isValid = false
        let span = document.createElement("span")
        span.innerText = ' Team name can not be empty'
        span.style.color = '#f00a31'
        document.getElementById("team_name").appendChild(span)
      } else {
        if (team_name != "Phoenix" || "404" || "Titans" || "Pull request" || "Elon" ){
          isValid = false
          let span = document.createElement("span")
          span.innerText = ' User must be a member of a team'
          span.style.color = '#f00a31'
          document.getElementById("team_name").appendChild(span)
          }
      }
      if (isValid){
        form.style.display = "none"
        let details = document.getElementById("details")
        details.classList.remove("hidden")
        details.innerHTML = `<h2 class="text-xl font-bold mb-2 text-red-500">Submitted Details</h2><ul class="list-disc ml-6"><li><strong>Fullname:</strong> ${name}</li><li><strong>Email:</strong> ${email}</li><li><strong>Team:</strong> ${team_name}</li></ul>`
      } else {
        document.getElementById("textCenter").innerText = 'Please correct highlighted error(s)'
      }
    })
    let showPassword = document.getElementById("showPass")
    showPassword.addEventListener('click', (e) => {
      e.preventDefault()
      let pass = form.querySelector("input[name='password']")
      if (pass.type == "password"){
        showPassword.innerHTML = `<i class='bx bx-low-vision'></i>`
        pass.type = "text"
      } else {
        showPassword.innerText = 'üëÅÔ∏è'
        pass.type = "password"
      }
    })
    let clear = document.getElementById("clear")
    clear.addEventListener("click", (e) => {
    e.preventDefault();
    form.querySelectorAll("input").forEach(input => {
      if (input.type !== "submit" && input.type !== "reset") {
        input.value = "";
      }
    });
    form.querySelectorAll("span").forEach(span => span.remove());
    document.getElementById("textCenter").innerText = "";
    });

  </script>
  </body>
  </html>
